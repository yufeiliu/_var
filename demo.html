<!--
Demo for _var - a javascript library for seamless variable-to-DOM binding
Yufei Liu (yufeiliu.com)
released under MIT license
-->
<html>
<head>
<script src="_var.js" type="text/javascript"></script>
<style>
#clock-container {
	padding:5px;
	border:1px solid black;
	width:500px;
	margin-left:auto;
	margin-right:auto;
	font-family:"Helvetica Neue";
	font-size:13px;
}
strong {
	color: red;
}
</style>
</head>

<div id="clock-container">
	It has been <strong id="clock-view"></strong> seconds since you refereshed this page.
</div>

<script>
	counter = 0;
	_var("counter")
		.bind(document.getElementById("clock-view"))
		//Remove binding after 30 seconds
		.bind(function(val) {
			if (val==30) {
				_var("counter").unbind(document.getElementById("clock-view"));
			}
		});

	function startTimer() {
		counter++;
		setTimeout('startTimer()',1000);
	}
	startTimer();

</script>
</html>